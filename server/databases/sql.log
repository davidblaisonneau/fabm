timestamp: 2014-06-10T22:06:58.867395
CREATE TABLE auth_user(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    first_name CHAR(128),
    last_name CHAR(128),
    email CHAR(512),
    password CHAR(512),
    registration_key CHAR(512),
    reset_password_key CHAR(512),
    registration_id CHAR(512),
    phone CHAR(512),
    address CHAR(512),
    zip_code CHAR(512),
    city CHAR(512),
    birth_date DATE NOT NULL,
    avatar CHAR(512),
    photo CHAR(512),
    history TEXT,
    badges TEXT,
    UM_balance DOUBLE,
    member_type CHAR(512) NOT NULL DEFAULT 'not_member',
    member_parent INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    member_end_date DATE,
    diffusion_photo CHAR(1),
    accept_rules CHAR(1) NOT NULL DEFAULT 'F',
    user_responsability CHAR(1) NOT NULL DEFAULT 'F',
    tutor_responsability CHAR(1)
);
success!
timestamp: 2014-06-10T22:06:59.054959
CREATE TABLE auth_group(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    role CHAR(512),
    description TEXT
);
success!
timestamp: 2014-06-10T22:06:59.243180
CREATE TABLE auth_membership(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    group_id INTEGER REFERENCES auth_group (id) ON DELETE CASCADE
);
success!
timestamp: 2014-06-10T22:06:59.406242
CREATE TABLE auth_permission(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    group_id INTEGER REFERENCES auth_group (id) ON DELETE CASCADE,
    name CHAR(512),
    table_name CHAR(512),
    record_id INTEGER
);
success!
timestamp: 2014-06-10T22:06:59.576731
CREATE TABLE auth_event(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    time_stamp TIMESTAMP,
    client_ip CHAR(512),
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    origin CHAR(512),
    description TEXT
);
success!
timestamp: 2014-06-10T22:06:59.734091
CREATE TABLE auth_cas(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    created_on TIMESTAMP,
    service CHAR(512),
    ticket CHAR(512),
    renew CHAR(1)
);
success!
timestamp: 2014-06-10T22:06:59.915835
CREATE TABLE machines(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL,
    machine_description TEXT NOT NULL,
    machine_id CHAR(512),
    place CHAR(512) NOT NULL,
    pictures TEXT,
    status CHAR(512) NOT NULL,
    required_badges TEXT,
    usages TEXT,
    reservations TEXT,
    events TEXT,
    consumables TEXT,
    price_per_unit DOUBLE,
    unit_type CHAR(512)
);
success!
timestamp: 2014-06-10T22:07:00.246547
CREATE TABLE categories(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL
);
success!
timestamp: 2014-06-10T22:07:00.476694
CREATE TABLE pictures(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL,
    category INTEGER REFERENCES categories (id) ON DELETE CASCADE,
    picture CHAR(512) NOT NULL,
    thumb CHAR(512)
);
success!
timestamp: 2014-06-10T22:07:00.661704
CREATE TABLE reservations(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    start_date TIMESTAMP NOT NULL,
    stop_date TIMESTAMP NOT NULL,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    validated_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    events TEXT,
    machine INTEGER REFERENCES machines (id) ON DELETE CASCADE
);
success!
timestamp: 2014-06-10T22:07:00.847247
CREATE TABLE usages(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    machine INTEGER REFERENCES machines (id) ON DELETE CASCADE,
    usage_date TIMESTAMP,
    usage_message CHAR(512) NOT NULL,
    price DOUBLE NOT NULL,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    fabmanager INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    details TEXT
);
success!
timestamp: 2014-06-10T22:07:01.023679
CREATE TABLE events(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    event_date TIMESTAMP,
    event_message CHAR(512) NOT NULL,
    event_type CHAR(512) NOT NULL DEFAULT 'log',
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE
);
success!
timestamp: 2014-06-10T22:07:01.184566
CREATE TABLE consumables(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL,
    quantity INTEGER NOT NULL,
    consumable_location CHAR(512),
    events TEXT,
    pictures INTEGER REFERENCES pictures (id) ON DELETE CASCADE
);
success!
timestamp: 2014-06-10T22:07:01.342412
CREATE TABLE badges(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category INTEGER REFERENCES categories (id) ON DELETE CASCADE,
    lvl CHAR(512),
    icon CHAR(512) NOT NULL,
    thumb CHAR(512)
);
success!
timestamp: 2014-06-10T22:40:52.513723
ALTER TABLE badges ADD picture CHAR(512) NOT NULL;
timestamp: 2014-06-10T22:40:53.752480
ALTER TABLE badges ADD picture CHAR(512) NOT NULL;
timestamp: 2014-06-10T22:40:55.963929
ALTER TABLE badges ADD picture CHAR(512) NOT NULL;
timestamp: 2014-06-10T22:51:59.182190
CREATE TABLE machines(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL,
    machine_description TEXT NOT NULL,
    machine_id CHAR(512),
    place CHAR(512) NOT NULL,
    pictures TEXT,
    status CHAR(512) NOT NULL,
    required_badges TEXT,
    usages TEXT,
    reservations TEXT,
    events TEXT,
    consumables TEXT,
    price_per_unit DOUBLE,
    unit_type CHAR(512)
);
success!
timestamp: 2014-06-10T22:51:59.390070
CREATE TABLE categories(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL
);
success!
timestamp: 2014-06-10T22:51:59.583451
CREATE TABLE pictures(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL,
    category INTEGER REFERENCES categories (id) ON DELETE CASCADE,
    picture CHAR(512) NOT NULL,
    thumb CHAR(512)
);
success!
timestamp: 2014-06-10T22:51:59.761159
CREATE TABLE reservations(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    start_date TIMESTAMP NOT NULL,
    stop_date TIMESTAMP NOT NULL,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    validated_by INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    events TEXT,
    machine INTEGER REFERENCES machines (id) ON DELETE CASCADE
);
success!
timestamp: 2014-06-10T22:51:59.937812
CREATE TABLE usages(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    machine INTEGER REFERENCES machines (id) ON DELETE CASCADE,
    usage_date TIMESTAMP,
    usage_message CHAR(512) NOT NULL,
    price DOUBLE NOT NULL,
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    fabmanager INTEGER REFERENCES auth_user (id) ON DELETE CASCADE,
    details TEXT
);
success!
timestamp: 2014-06-10T22:52:00.113923
CREATE TABLE events(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    event_date TIMESTAMP,
    event_message CHAR(512) NOT NULL,
    event_type CHAR(512) NOT NULL DEFAULT 'log',
    user_id INTEGER REFERENCES auth_user (id) ON DELETE CASCADE
);
success!
timestamp: 2014-06-10T22:52:00.306683
CREATE TABLE consumables(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name CHAR(512) NOT NULL,
    quantity INTEGER NOT NULL,
    consumable_location CHAR(512),
    events TEXT,
    pictures INTEGER REFERENCES pictures (id) ON DELETE CASCADE
);
success!
timestamp: 2014-06-10T22:52:00.457329
CREATE TABLE badges(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category INTEGER REFERENCES categories (id) ON DELETE CASCADE,
    lvl CHAR(512),
    picture CHAR(512),
    thumb CHAR(512)
);
success!
timestamp: 2014-06-11T00:04:49.857708
ALTER TABLE consumables ADD picture CHAR(512);
timestamp: 2014-06-11T00:04:50.014826
ALTER TABLE consumables ADD thumb CHAR(512);
success!
success!
success!
success!
timestamp: 2014-06-11T00:20:25.532546
ALTER TABLE consumables ADD category INTEGER REFERENCES categories (id) ON DELETE CASCADE;
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
success!
timestamp: 2014-06-16T01:36:38.605881
ALTER TABLE consumables ADD price DOUBLE;
success!
success!
success!
success!
success!
success!
success!
